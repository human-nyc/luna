<div class="testimonials__header">
  <h2 class="section-header">{{ section.settings.header }}</h2>
</div>
<div class="testimonials__slider" id="testimonials">
  {% for block in section.blocks %}
    {% if block.type == 'testimonial' %}
      <div class="testimonials__slide">
        <div class="testimonials__slide-inner">
          <img src="{{ 'five-stars@2x.png' | asset_url | image_tag }}" width="45px" alt="Five stars" />
          <h4>{{block.settings.name}}</h4>
          <p>{{block.settings.body}}</p>
          <img class="quote-tail" src="{{ 'quote-tail@2x.png' | asset_url | image_tag }}" alt="" />
        </div>
      </div>
    {% endif %}
  {% endfor %}
</div>
<div class="testimonials__cta">
  <a class="cta-button cta-button_dark">
    {{ section.settings.cta_text }}
  </a>
</div>

<style>
  .flickity-prev-next-button.previous {
    background-image: url("{{ 'slider-arrow-left@2x.png' | asset_url }}");
  }
  .flickity-prev-next-button.next {
    background-image: url("{{ 'slider-arrow-right@2x.png' | asset_url }}");
  }
</style>

{% schema %}
  {
    "name": "Testimonials",
    "class": "testimonials",
    "settings": [
      {
        "type": "text",
        "id": "header",
        "label": "Header",
        "default": "See what the fans have to say..."
      },
      {
        "type": "text",
        "id": "cta_text",
        "label": "CTA Text",
        "default": "See more reviews"
      }
    ],
    "blocks": [
      {
        "name": "Testimonial",
        "type": "testimonial",
        "settings": [
          {
            "type": "text",
            "id": "name",
            "label": "Name"
          },
          {
            "type": "textarea",
            "id": "body",
            "label": "Body"
          }
        ]
      }
    ],
    "presets": [
      {
        "name": "Testimonials",
        "category": "Text"
      }
    ]
  }
{% endschema %}
